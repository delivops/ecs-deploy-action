# Secrets Single Env Mode Test
# Demonstrates auto_parse_keys_to_envs=false with required env_name
name: secrets-single-env-app
replica_count: 1
cpu: 512
memory: 1024
cpu_arch: X86_64
role_arn: arn:aws:iam::123456789012:role/ecsTaskExecutionRole

envs:
  - NODE_ENV: production
  - SERVICE_TYPE: secrets-single-env

secrets_envs:
  - name: api-keys
    auto_parse_keys_to_envs: false
    env_name: API_KEYS_JSON
  - id: arn:aws:secretsmanager:us-east-1:123456789012:secret:database-credentials-abc123
    values:
      - DB_USERNAME
      - DB_PASSWORD

port: 8080
