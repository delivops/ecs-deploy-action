# Complex Secrets Mix Test
# Tests both old and new secret formats together
name: complex-secrets-app
replica_count: 1
cpu: 512
memory: 1024
cpu_arch: X86_64
role_arn: arn:aws:iam::123456789012:role/ecsTaskExecutionRole

# Old format secrets
secrets: 
  - API_KEY: arn:aws:secretsmanager:us-east-1:123456789012:secret:api-keys-abc123
  - OLD_TOKEN: arn:aws:secretsmanager:us-east-1:123456789012:secret:legacy-tokens-def456

# New format secrets_envs
secrets_envs:
  - id: arn:aws:secretsmanager:us-east-1:123456789012:secret:database-credentials-ghi789
    values:
      - DB_USERNAME
      - DB_PASSWORD
      - DB_HOST
  - id: arn:aws:secretsmanager:us-east-1:123456789012:secret:oauth-config-jkl012
    values:
      - OAUTH_CLIENT_ID
      - OAUTH_CLIENT_SECRET

# Secret files
secret_files:
  - ssl-certificates
  - config-files

envs:
  - NODE_ENV: production
  - SERVICE_TYPE: complex-secrets

port: 8080
